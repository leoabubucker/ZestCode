\doxysection{semphr.\+h}
\hypertarget{semphr_8h_source}{}\label{semphr_8h_source}\index{C:/Users/leoku/OneDrive/Personal\_Coding\_Projects/ZestCode/include/rtos/semphr.h@{C:/Users/leoku/OneDrive/Personal\_Coding\_Projects/ZestCode/include/rtos/semphr.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ FreeRTOS\ Kernel\ V10.0.1}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ (C)\ 2017\ Amazon.com,\ Inc.\ or\ its\ affiliates.\ \ All\ Rights\ Reserved.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining\ a\ copy\ of}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ this\ software\ and\ associated\ documentation\ files\ (the\ "{}Software"{}),\ to\ deal\ in}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ the\ Software\ without\ restriction,\ including\ without\ limitation\ the\ rights\ to}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ use,\ copy,\ modify,\ merge,\ publish,\ distribute,\ sublicense,\ and/or\ sell\ copies\ of}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ the\ Software,\ and\ to\ permit\ persons\ to\ whom\ the\ Software\ is\ furnished\ to\ do\ so,}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ subject\ to\ the\ following\ conditions:}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be\ included\ in\ all}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ copies\ or\ substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,\ EXPRESS\ OR}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF\ MERCHANTABILITY,\ FITNESS}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ FOR\ A\ PARTICULAR\ PURPOSE\ AND\ NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE\ AUTHORS\ OR}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ *\ COPYRIGHT\ HOLDERS\ BE\ LIABLE\ FOR\ ANY\ CLAIM,\ DAMAGES\ OR\ OTHER\ LIABILITY,\ WHETHER}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ *\ IN\ AN\ ACTION\ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,\ OUT\ OF\ OR\ IN}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ CONNECTION\ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE\ SOFTWARE.}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ http://www.FreeRTOS.org}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ http://aws.amazon.com/freertos}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ 1\ tab\ ==\ 4\ spaces!}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#ifndef\ SEMAPHORE\_H}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ SEMAPHORE\_H}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#ifndef\ INC\_FREERTOS\_H}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\ \ \ \ \#error\ "{}include\ FreeRTOS.h"{}\ must\ appear\ in\ source\ files\ before\ "{}include\ semphr.h"{}}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ "{}queue.h"{}}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ "{}task.h"{}}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{typedef}\ queue\_t\ sem\_t;}
\DoxyCodeLine{00039\ \textcolor{keyword}{typedef}\ queue\_t\ \mbox{\hyperlink{group__c-rtos_gab15ea84d90257d70b44e8e04519864d2}{mutex\_t}};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#define\ semBINARY\_SEMAPHORE\_QUEUE\_LENGTH\ \ \ \ (\ (\ uint8\_t\ )\ 1U\ )}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ semSEMAPHORE\_QUEUE\_ITEM\_LENGTH\ \ \ \ \ \ (\ (\ uint8\_t\ )\ 0U\ )}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#define\ semGIVE\_BLOCK\_TIME\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\ (\ uint32\_t\ )\ 0U\ )}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#if(\ configSUPPORT\_DYNAMIC\_ALLOCATION\ ==\ 1\ )}}
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\ \ \ \ \#define\ vSemaphoreCreateBinary(\ xSemaphore\ )\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ (\ xSemaphore\ )\ =\ xQueueGenericCreate(\ (\ uint32\_t\ )\ 1,\ semSEMAPHORE\_QUEUE\_ITEM\_LENGTH,\ queueQUEUE\_TYPE\_BINARY\_SEMAPHORE\ );\ \ \ \(\backslash\)}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ if(\ (\ xSemaphore\ )\ !=\ NULL\ )\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\ void\ )\ sem\_post(\ (\ xSemaphore\ )\ );\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#if(\ configSUPPORT\_DYNAMIC\_ALLOCATION\ ==\ 1\ )}}
\DoxyCodeLine{00164\ \ \ \ \ sem\_t\ \mbox{\hyperlink{group__apix_ga83c9a6c93e3bfce8f36e3f32a6dc8c4b}{sem\_binary\_create}}();}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00222\ \textcolor{preprocessor}{\#if(\ configSUPPORT\_STATIC\_ALLOCATION\ ==\ 1\ )}}
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\ \ \ \ \#define\ xSemaphoreCreateBinaryStatic(\ pxStaticSemaphore\ )\ xQueueGenericCreateStatic(\ (\ uint32\_t\ )\ 1,\ semSEMAPHORE\_QUEUE\_ITEM\_LENGTH,\ NULL,\ pxStaticSemaphore,\ queueQUEUE\_TYPE\_BINARY\_SEMAPHORE\ )}}
\DoxyCodeLine{00224\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ configSUPPORT\_STATIC\_ALLOCATION\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00291\ uint8\_t\ \mbox{\hyperlink{group__apix_gaee36a9729a21b6ad0de78985a16c4f03}{sem\_wait}}(sem\_t\ sem,\ uint32\_t\ block\_time);}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00384\ \textcolor{preprocessor}{\#if(\ configUSE\_RECURSIVE\_MUTEXES\ ==\ 1\ )}}
\DoxyCodeLine{00385\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{group__c-rtos_ga67f8421ccecb58c807762494efe10c3a}{mutex\_recursive\_take}}(\mbox{\hyperlink{group__c-rtos_gab15ea84d90257d70b44e8e04519864d2}{mutex\_t}}\ mutex,\ uint32\_t\ block\_time);}
\DoxyCodeLine{00386\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00449\ uint8\_t\ \mbox{\hyperlink{group__apix_gaa2048694c50246f193a40b7e00ed1756}{sem\_post}}(sem\_t\ sem);}
\DoxyCodeLine{00450\ }
\DoxyCodeLine{00533\ \textcolor{preprocessor}{\#if(\ configUSE\_RECURSIVE\_MUTEXES\ ==\ 1\ )}}
\DoxyCodeLine{00534\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{group__c-rtos_gaaf82d93cd652b6173372970018fdc02d}{mutex\_recursive\_give}}(\mbox{\hyperlink{group__c-rtos_gab15ea84d90257d70b44e8e04519864d2}{mutex\_t}}\ mutex);}
\DoxyCodeLine{00535\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00536\ }
\DoxyCodeLine{00626\ \textcolor{preprocessor}{\#define\ xSemaphoreGiveFromISR(\ xSemaphore,\ pxHigherPriorityTaskWoken\ )\ \ xQueueGiveFromISR(\ (\ queue\_t\ )\ (\ xSemaphore\ ),\ (\ pxHigherPriorityTaskWoken\ )\ )}}
\DoxyCodeLine{00627\ }
\DoxyCodeLine{00660\ \textcolor{preprocessor}{\#define\ xSemaphoreTakeFromISR(\ xSemaphore,\ pxHigherPriorityTaskWoken\ )\ \ xQueueReceiveFromISR(\ (\ queue\_t\ )\ (\ xSemaphore\ ),\ NULL,\ (\ pxHigherPriorityTaskWoken\ )\ )}}
\DoxyCodeLine{00661\ }
\DoxyCodeLine{00717\ \textcolor{preprocessor}{\#if(\ configSUPPORT\_DYNAMIC\_ALLOCATION\ ==\ 1\ )}}
\DoxyCodeLine{00718\ \ \ \ \ \mbox{\hyperlink{group__c-rtos_gab15ea84d90257d70b44e8e04519864d2}{mutex\_t}}\ \mbox{\hyperlink{group__c-rtos_ga475d096afa3abcc9a276ca9fa54bafdf}{mutex\_create}}();}
\DoxyCodeLine{00719\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00720\ }
\DoxyCodeLine{00778\ \textcolor{preprocessor}{\ \#if(\ configSUPPORT\_STATIC\_ALLOCATION\ ==\ 1\ )}}
\DoxyCodeLine{00779\ \ \ \ \ \mbox{\hyperlink{group__c-rtos_gab15ea84d90257d70b44e8e04519864d2}{mutex\_t}}\ \mbox{\hyperlink{kapi_8h_a81b28a183397697dc8dfb94f96f875f2}{mutex\_create\_static}}(static\_sem\_s\_t*\ pxMutexBuffer);}
\DoxyCodeLine{00780\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ configSUPPORT\_STATIC\_ALLOCATION\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ }
\DoxyCodeLine{00846\ \textcolor{preprocessor}{\#if(\ (\ configSUPPORT\_DYNAMIC\_ALLOCATION\ ==\ 1\ )\ \&\&\ (\ configUSE\_RECURSIVE\_MUTEXES\ ==\ 1\ )\ )}}
\DoxyCodeLine{00847\ \ \ \ \ \mbox{\hyperlink{group__c-rtos_gab15ea84d90257d70b44e8e04519864d2}{mutex\_t}}\ \mbox{\hyperlink{group__c-rtos_gab32c3cf41f7dbde49dfac10c279347f0}{mutex\_recursive\_create}}();}
\DoxyCodeLine{00848\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00849\ }
\DoxyCodeLine{00919\ \textcolor{preprocessor}{\#if(\ (\ configSUPPORT\_STATIC\_ALLOCATION\ ==\ 1\ )\ \&\&\ (\ configUSE\_RECURSIVE\_MUTEXES\ ==\ 1\ )\ )}}
\DoxyCodeLine{00920\ \textcolor{preprocessor}{\ \ \ \ \#define\ xSemaphoreCreateRecursiveMutexStatic(\ pxStaticSemaphore\ )\ xQueueCreateMutexStatic(\ queueQUEUE\_TYPE\_RECURSIVE\_MUTEX,\ pxStaticSemaphore\ )}}
\DoxyCodeLine{00921\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ configSUPPORT\_STATIC\_ALLOCATION\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00922\ }
\DoxyCodeLine{00999\ \textcolor{preprocessor}{\#if(\ configSUPPORT\_DYNAMIC\_ALLOCATION\ ==\ 1\ )}}
\DoxyCodeLine{01000\ \ \ \ \ sem\_t\ \mbox{\hyperlink{group__apix_ga382f9b5dc6ba96dcecffdbd7f41d29ac}{sem\_create}}(uint32\_t\ uxMaxCount,\ uint32\_t\ uxInitialCount);}
\DoxyCodeLine{01001\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01002\ }
\DoxyCodeLine{01084\ \textcolor{preprocessor}{\#if(\ configSUPPORT\_STATIC\_ALLOCATION\ ==\ 1\ )}}
\DoxyCodeLine{01085\ \ \ \ \ sem\_t\ \mbox{\hyperlink{kapi_8h_a00d5fa4e33897eebbb15fced79d92c15}{sem\_create\_static}}(uint32\_t\ uxMaxCount,\ uint32\_t\ uxInitialCount,\ static\_sem\_s\_t*\ pxSemaphoreBuffer);}
\DoxyCodeLine{01086\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ configSUPPORT\_STATIC\_ALLOCATION\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{01087\ }
\DoxyCodeLine{01100\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{group__apix_ga0dfcd8007428b4249931d0d78157490b}{sem\_delete}}(sem\_t\ xSemaphore);}
\DoxyCodeLine{01101\ }
\DoxyCodeLine{01115\ \mbox{\hyperlink{group__c-rtos_ga1d7e0825b8d8876e8cd8ece3f9115293}{task\_t}}\ \mbox{\hyperlink{group__apix_ga34a373877e556e8f6829a49eddb08673}{mutex\_get\_owner}}(sem\_t\ xMutex);}
\DoxyCodeLine{01116\ }
\DoxyCodeLine{01126\ \textcolor{preprocessor}{\#define\ xSemaphoreGetMutexHolderFromISR(\ xSemaphore\ )\ xQueueGetMutexHolderFromISR(\ (\ xSemaphore\ )\ )}}
\DoxyCodeLine{01127\ }
\DoxyCodeLine{01138\ uint32\_t\ \mbox{\hyperlink{group__apix_ga5848486405814316a909912fa87f88dc}{sem\_get\_count}}(sem\_t\ xSemaphore);}
\DoxyCodeLine{01139\ }
\DoxyCodeLine{01140\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SEMAPHORE\_H\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{01141\ }
\DoxyCodeLine{01142\ }

\end{DoxyCode}
