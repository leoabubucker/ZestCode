\doxysection{vdml.\+h}
\hypertarget{vdml_8h_source}{}\label{vdml_8h_source}\index{C:/Users/leoku/OneDrive/Personal\_Coding\_Projects/ZestCode/include/vdml/vdml.h@{C:/Users/leoku/OneDrive/Personal\_Coding\_Projects/ZestCode/include/vdml/vdml.h}}
\mbox{\hyperlink{vdml_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{registry_8h}{vdml/registry.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#define\ v5\_device\_e\_t\ pros::c::v5\_device\_e\_t}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00025\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ VALIDATE\_PORT\_NO(PORT)\ ((PORT)\ >=\ 0\ \&\&\ (PORT)\ <\ NUM\_V5\_PORTS)}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#define\ VALIDATE\_PORT\_NO\_INTERNAL(PORT)\ ((PORT)\ >=\ 0\ \&\&\ (PORT)\ <\ V5\_MAX\_DEVICE\_PORTS)}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#define\ claim\_port(port,\ device\_type,\ error\_code)\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\ \ if\ (registry\_validate\_binding(port,\ device\_type)\ !=\ 0)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\ \ \ \ return\ error\_code;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\ \ v5\_smart\_device\_s\_t*\ device\ =\ registry\_get\_device(port);\ \(\backslash\)}}
\DoxyCodeLine{00056\ \textcolor{preprocessor}{\ \ if\ (!port\_mutex\_take(port))\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\ \ \ \ errno\ =\ EACCES;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\ \ \ \ return\ error\_code;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\ \ \}}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#define\ claim\_port\_i(port,\ device\_type)\ claim\_port(port,\ device\_type,\ PROS\_ERR)}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#define\ claim\_port\_f(port,\ device\_type)\ claim\_port(port,\ device\_type,\ PROS\_ERR\_F)}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00100\ int32\_t\ \mbox{\hyperlink{vdml_8h_a0086020993f44c165e8e2a6cd7e5eeaa}{claim\_port\_try}}(uint8\_t\ port,\ v5\_device\_e\_t\ type);}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#define\ return\_port(port,\ rtn)\ \(\backslash\)}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\ \ port\_mutex\_give(port);\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\ \ return\ rtn;}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00120\ \textcolor{keyword}{extern}\ int32\_t\ \mbox{\hyperlink{vdml_8h_a93dbe5adaa0d9331b7a02a713da023c1}{port\_errors}};}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00129\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{vdml_8h_ab164b06ea2d6c77fac6d1afc8bfa78f4}{vdml\_set\_port\_error}}(uint8\_t\ port);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00137\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{vdml_8h_a041f91b4d998392918864e26df946f32}{vdml\_unset\_port\_error}}(uint8\_t\ port);}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00148\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{vdml_8h_a9b8bc94d616e0f915c2930698e64c4bc}{vdml\_get\_port\_error}}(uint8\_t\ port);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00171\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{vdml_8h_a67513439eb7264d1196f58dbaa03c847}{port\_mutex\_take}}(uint8\_t\ port);}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00189\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{vdml_8h_abeb38b74fc71b8003c53e920822f7d1d}{port\_mutex\_give}}(uint8\_t\ port);}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00194\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{vdml_8h_a00133d1eced9193949574829587a393d}{port\_mutex\_take\_all}}();}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00199\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{vdml_8h_ae70eb480db1d80602e5b5f037d572d47}{port\_mutex\_give\_all}}();}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00217\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{vdml_8h_af35fba308dec7fbae265a4b4586a4786}{internal\_port\_mutex\_take}}(uint8\_t\ port);}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00235\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{vdml_8h_a3cd0d28bdfcb9c15a2bd393a25fcb6f2}{internal\_port\_mutex\_give}}(uint8\_t\ port);}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \textcolor{preprocessor}{\#define\ V5\_PORT\_BATTERY\ 24}}
\DoxyCodeLine{00238\ \textcolor{preprocessor}{\#define\ V5\_PORT\_CONTROLLER\_1\ 25}}
\DoxyCodeLine{00239\ \textcolor{preprocessor}{\#define\ V5\_PORT\_CONTROLLER\_2\ 26}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00242\ \}}
\DoxyCodeLine{00243\ \textcolor{preprocessor}{\#undef\ v5\_device\_e\_t}}
\DoxyCodeLine{00244\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
