<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZestCode: C:/Users/leoku/OneDrive/Personal_Coding_Projects/ZestCode/include/vdml/vdml.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ZestCode
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('vdml_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">vdml.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="registry_8h_source.html">vdml/registry.h</a>&quot;</code><br />
</div>
<p><a href="vdml_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab8b236bcd58ebb7cdd0a26cdeaf671c3" id="r_ab8b236bcd58ebb7cdd0a26cdeaf671c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8b236bcd58ebb7cdd0a26cdeaf671c3">VALIDATE_PORT_NO</a>(PORT)</td></tr>
<tr class="separator:ab8b236bcd58ebb7cdd0a26cdeaf671c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4501c671e4261826ee0dc83550aa62" id="r_ade4501c671e4261826ee0dc83550aa62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade4501c671e4261826ee0dc83550aa62">VALIDATE_PORT_NO_INTERNAL</a>(PORT)</td></tr>
<tr class="separator:ade4501c671e4261826ee0dc83550aa62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac22f24e079fd4df2f3a21cb4774a8a24" id="r_ac22f24e079fd4df2f3a21cb4774a8a24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac22f24e079fd4df2f3a21cb4774a8a24">claim_port</a>(port,  device_type,  error_code)</td></tr>
<tr class="separator:ac22f24e079fd4df2f3a21cb4774a8a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8424c6db18a5614c838641b0330090c" id="r_ad8424c6db18a5614c838641b0330090c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8424c6db18a5614c838641b0330090c">claim_port_i</a>(port,  device_type)</td></tr>
<tr class="separator:ad8424c6db18a5614c838641b0330090c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e2af31b80854b979dc34de059dfc94" id="r_ab6e2af31b80854b979dc34de059dfc94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6e2af31b80854b979dc34de059dfc94">claim_port_f</a>(port,  device_type)</td></tr>
<tr class="separator:ab6e2af31b80854b979dc34de059dfc94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bf38331fdc0366cc0f0ab04ced5926" id="r_ae6bf38331fdc0366cc0f0ab04ced5926"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6bf38331fdc0366cc0f0ab04ced5926">return_port</a>(port,  rtn)</td></tr>
<tr class="separator:ae6bf38331fdc0366cc0f0ab04ced5926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c134eb1c4bb79e8ef7999fa324fa42" id="r_a34c134eb1c4bb79e8ef7999fa324fa42"><td class="memItemLeft" align="right" valign="top"><a id="a34c134eb1c4bb79e8ef7999fa324fa42" name="a34c134eb1c4bb79e8ef7999fa324fa42"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>V5_PORT_BATTERY</b>&#160;&#160;&#160;24</td></tr>
<tr class="separator:a34c134eb1c4bb79e8ef7999fa324fa42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf5c65ee1e98e3a163491db8c2b8039" id="r_abcf5c65ee1e98e3a163491db8c2b8039"><td class="memItemLeft" align="right" valign="top"><a id="abcf5c65ee1e98e3a163491db8c2b8039" name="abcf5c65ee1e98e3a163491db8c2b8039"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>V5_PORT_CONTROLLER_1</b>&#160;&#160;&#160;25</td></tr>
<tr class="separator:abcf5c65ee1e98e3a163491db8c2b8039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbcd9fed9dfd47a4f57dbda48bf48821" id="r_acbcd9fed9dfd47a4f57dbda48bf48821"><td class="memItemLeft" align="right" valign="top"><a id="acbcd9fed9dfd47a4f57dbda48bf48821" name="acbcd9fed9dfd47a4f57dbda48bf48821"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>V5_PORT_CONTROLLER_2</b>&#160;&#160;&#160;26</td></tr>
<tr class="separator:acbcd9fed9dfd47a4f57dbda48bf48821"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0086020993f44c165e8e2a6cd7e5eeaa" id="r_a0086020993f44c165e8e2a6cd7e5eeaa"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0086020993f44c165e8e2a6cd7e5eeaa">claim_port_try</a> (uint8_t port, v5_device_e_t type)</td></tr>
<tr class="separator:a0086020993f44c165e8e2a6cd7e5eeaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab164b06ea2d6c77fac6d1afc8bfa78f4" id="r_ab164b06ea2d6c77fac6d1afc8bfa78f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab164b06ea2d6c77fac6d1afc8bfa78f4">vdml_set_port_error</a> (uint8_t port)</td></tr>
<tr class="separator:ab164b06ea2d6c77fac6d1afc8bfa78f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041f91b4d998392918864e26df946f32" id="r_a041f91b4d998392918864e26df946f32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a041f91b4d998392918864e26df946f32">vdml_unset_port_error</a> (uint8_t port)</td></tr>
<tr class="separator:a041f91b4d998392918864e26df946f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8bc94d616e0f915c2930698e64c4bc" id="r_a9b8bc94d616e0f915c2930698e64c4bc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b8bc94d616e0f915c2930698e64c4bc">vdml_get_port_error</a> (uint8_t port)</td></tr>
<tr class="separator:a9b8bc94d616e0f915c2930698e64c4bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67513439eb7264d1196f58dbaa03c847" id="r_a67513439eb7264d1196f58dbaa03c847"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67513439eb7264d1196f58dbaa03c847">port_mutex_take</a> (uint8_t port)</td></tr>
<tr class="separator:a67513439eb7264d1196f58dbaa03c847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb38b74fc71b8003c53e920822f7d1d" id="r_abeb38b74fc71b8003c53e920822f7d1d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abeb38b74fc71b8003c53e920822f7d1d">port_mutex_give</a> (uint8_t port)</td></tr>
<tr class="separator:abeb38b74fc71b8003c53e920822f7d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00133d1eced9193949574829587a393d" id="r_a00133d1eced9193949574829587a393d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00133d1eced9193949574829587a393d">port_mutex_take_all</a> ()</td></tr>
<tr class="separator:a00133d1eced9193949574829587a393d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70eb480db1d80602e5b5f037d572d47" id="r_ae70eb480db1d80602e5b5f037d572d47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae70eb480db1d80602e5b5f037d572d47">port_mutex_give_all</a> ()</td></tr>
<tr class="separator:ae70eb480db1d80602e5b5f037d572d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35fba308dec7fbae265a4b4586a4786" id="r_af35fba308dec7fbae265a4b4586a4786"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af35fba308dec7fbae265a4b4586a4786">internal_port_mutex_take</a> (uint8_t port)</td></tr>
<tr class="separator:af35fba308dec7fbae265a4b4586a4786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd0d28bdfcb9c15a2bd393a25fcb6f2" id="r_a3cd0d28bdfcb9c15a2bd393a25fcb6f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3cd0d28bdfcb9c15a2bd393a25fcb6f2">internal_port_mutex_give</a> (uint8_t port)</td></tr>
<tr class="separator:a3cd0d28bdfcb9c15a2bd393a25fcb6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a93dbe5adaa0d9331b7a02a713da023c1" id="r_a93dbe5adaa0d9331b7a02a713da023c1"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93dbe5adaa0d9331b7a02a713da023c1">port_errors</a></td></tr>
<tr class="separator:a93dbe5adaa0d9331b7a02a713da023c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all types and functions used throughout multiple VDML (Vex Data Management Layer) files.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2017-2024, Purdue University ACM SIGBots.</dd></dl>
<p>This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac22f24e079fd4df2f3a21cb4774a8a24" name="ac22f24e079fd4df2f3a21cb4774a8a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac22f24e079fd4df2f3a21cb4774a8a24">&#9670;&#160;</a></span>claim_port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define claim_port</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>port</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>device_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>error_code</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <span class="keywordflow">if</span> (registry_validate_binding(port, device_type) != 0) { \</div>
<div class="line">    <span class="keywordflow">return</span> error_code;                                     \</div>
<div class="line">  }                                                        \</div>
<div class="line">  <a class="code hl_struct" href="structv5__smart__device__s__t.html">v5_smart_device_s_t</a>* device = registry_get_device(port); \</div>
<div class="line">  if (!<a class="code hl_function" href="#a67513439eb7264d1196f58dbaa03c847">port_mutex_take</a>(port)) {                            \</div>
<div class="line">    errno = EACCES;                                        \</div>
<div class="line">    <span class="keywordflow">return</span> error_code;                                     \</div>
<div class="line">  }</div>
<div class="ttc" id="astructv5__smart__device__s__t_html"><div class="ttname"><a href="structv5__smart__device__s__t.html">v5_smart_device_s_t</a></div><div class="ttdef"><b>Definition</b> registry.h:25</div></div>
<div class="ttc" id="avdml_8h_html_a67513439eb7264d1196f58dbaa03c847"><div class="ttname"><a href="#a67513439eb7264d1196f58dbaa03c847">port_mutex_take</a></div><div class="ttdeci">int port_mutex_take(uint8_t port)</div></div>
</div><!-- fragment --><p>Macro that handles error checking, sanity checking, automatic registration, and mutex taking for all of the motor wrapper functions. If port is out of range, the calling function sets errno and returns. If a port isn't yet registered, it registered as a motor automatically. If a mutex cannot be taken, errno is set to EACCES (access denied) and returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number from 0-20 </td></tr>
    <tr><td class="paramname">device_type</td><td>The v5_device_e_t that the port is configured as </td></tr>
    <tr><td class="paramname">error_code</td><td>The error code that return if error checking failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab6e2af31b80854b979dc34de059dfc94" name="ab6e2af31b80854b979dc34de059dfc94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e2af31b80854b979dc34de059dfc94">&#9670;&#160;</a></span>claim_port_f</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define claim_port_f</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>port</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>device_type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_define" href="#ac22f24e079fd4df2f3a21cb4774a8a24">claim_port</a>(port, device_type, <a class="code hl_define" href="error_8h.html#a8e591efce4b2a8e733e0fa9432e493a6">PROS_ERR_F</a>)</div>
<div class="ttc" id="aerror_8h_html_a8e591efce4b2a8e733e0fa9432e493a6"><div class="ttname"><a href="error_8h.html#a8e591efce4b2a8e733e0fa9432e493a6">PROS_ERR_F</a></div><div class="ttdeci">#define PROS_ERR_F</div><div class="ttdoc">Return This on 8 Byte Sized Return Error.</div><div class="ttdef"><b>Definition</b> error.h:36</div></div>
<div class="ttc" id="avdml_8h_html_ac22f24e079fd4df2f3a21cb4774a8a24"><div class="ttname"><a href="#ac22f24e079fd4df2f3a21cb4774a8a24">claim_port</a></div><div class="ttdeci">#define claim_port(port, device_type, error_code)</div><div class="ttdef"><b>Definition</b> vdml.h:51</div></div>
</div><!-- fragment --><p>Function like claim_port. This macro should only be used in functions that return double or float as PROS_ERR_F could be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number from 0-20 </td></tr>
    <tr><td class="paramname">device_type</td><td>The v5_device_e_t that the port is configured as </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8424c6db18a5614c838641b0330090c" name="ad8424c6db18a5614c838641b0330090c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8424c6db18a5614c838641b0330090c">&#9670;&#160;</a></span>claim_port_i</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define claim_port_i</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>port</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>device_type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_define" href="#ac22f24e079fd4df2f3a21cb4774a8a24">claim_port</a>(port, device_type, <a class="code hl_define" href="error_8h.html#a8748a4dfbe487cedaafa15f1ff7f2f38">PROS_ERR</a>)</div>
<div class="ttc" id="aerror_8h_html_a8748a4dfbe487cedaafa15f1ff7f2f38"><div class="ttname"><a href="error_8h.html#a8748a4dfbe487cedaafa15f1ff7f2f38">PROS_ERR</a></div><div class="ttdeci">#define PROS_ERR</div><div class="ttdoc">Return This on 4 Byte Sized Return Error.</div><div class="ttdef"><b>Definition</b> error.h:32</div></div>
</div><!-- fragment --><p>Function like claim_port. This macro should only be used in functions that return int32_t or enums as PROS_ERR could be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number from 0-20 </td></tr>
    <tr><td class="paramname">device_type</td><td>The v5_device_e_t that the port is configured as </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae6bf38331fdc0366cc0f0ab04ced5926" name="ae6bf38331fdc0366cc0f0ab04ced5926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6bf38331fdc0366cc0f0ab04ced5926">&#9670;&#160;</a></span>return_port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define return_port</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>port</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtn</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <a class="code hl_function" href="#abeb38b74fc71b8003c53e920822f7d1d">port_mutex_give</a>(port);       \</div>
<div class="line">  <span class="keywordflow">return</span> rtn;</div>
<div class="ttc" id="avdml_8h_html_abeb38b74fc71b8003c53e920822f7d1d"><div class="ttname"><a href="#abeb38b74fc71b8003c53e920822f7d1d">port_mutex_give</a></div><div class="ttdeci">int port_mutex_give(uint8_t port)</div></div>
</div><!-- fragment --><p>Macro that release the mutex for the given port and sets errno to 0 if the function is an accessor wrapper whos return value is PROS_ERR or PROS_ERR_F.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number from 0-20 </td></tr>
    <tr><td class="paramname">rtn</td><td>The desired return value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The rtn parameter </dd></dl>

</div>
</div>
<a id="ab8b236bcd58ebb7cdd0a26cdeaf671c3" name="ab8b236bcd58ebb7cdd0a26cdeaf671c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b236bcd58ebb7cdd0a26cdeaf671c3">&#9670;&#160;</a></span>VALIDATE_PORT_NO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALIDATE_PORT_NO</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>PORT</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((PORT) &gt;= 0 &amp;&amp; (PORT) &lt; NUM_V5_PORTS)</div>
</div><!-- fragment --><p>Macro, returns true if the port is in range of user configurable ports, false otherwise. </p>

</div>
</div>
<a id="ade4501c671e4261826ee0dc83550aa62" name="ade4501c671e4261826ee0dc83550aa62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4501c671e4261826ee0dc83550aa62">&#9670;&#160;</a></span>VALIDATE_PORT_NO_INTERNAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALIDATE_PORT_NO_INTERNAL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>PORT</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((PORT) &gt;= 0 &amp;&amp; (PORT) &lt; V5_MAX_DEVICE_PORTS)</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0086020993f44c165e8e2a6cd7e5eeaa" name="a0086020993f44c165e8e2a6cd7e5eeaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0086020993f44c165e8e2a6cd7e5eeaa">&#9670;&#160;</a></span>claim_port_try()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t claim_port_try </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">v5_device_e_t</td>          <td class="paramname"><span class="paramname"><em>type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A function that executes claim_port and allows you to execute a block of code if an error occurs.</p>
<p>This function uses the following values of errno when an error state is reached: ENXIO - The given value is not within the range of V5 ports (1-21). EACCES - Another resource is currently trying to access the port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number from 0-20 </td></tr>
    <tr><td class="paramname">device_type</td><td>The v5_device_e_t that the port is configured as</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the operation was successful or 0 if the operation failed, setting errno. </dd></dl>

</div>
</div>
<a id="a3cd0d28bdfcb9c15a2bd393a25fcb6f2" name="a3cd0d28bdfcb9c15a2bd393a25fcb6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd0d28bdfcb9c15a2bd393a25fcb6f2">&#9670;&#160;</a></span>internal_port_mutex_give()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int internal_port_mutex_give </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a port mutex with bounds checking for V5_MAX_PORTS (32) not user exposed device ports (20). Intended for internal usage for protecting thread-safety on devices such as the controller and battery</p>
<p>This function uses the following values of errno when an error state is reached: ENXIO - The given value is not within the range of V5 ports (0-32).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number from 0-32</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the mutex was successfully returned, false otherwise. If false is returned, then errno is set with a hint about why the mutex couldn't be returned. </dd></dl>

</div>
</div>
<a id="af35fba308dec7fbae265a4b4586a4786" name="af35fba308dec7fbae265a4b4586a4786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35fba308dec7fbae265a4b4586a4786">&#9670;&#160;</a></span>internal_port_mutex_take()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int internal_port_mutex_take </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtains a port mutex with bounds checking for V5_MAX_PORTS (32) not user exposed device ports (20). Intended for internal usage for protecting thread-safety on devices such as the controller and battery</p>
<p>This function uses the following values of errno when an error state is reached: ENXIO - The given value is not within the range of V5 ports (0-32).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number from 0-32</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the mutex was successfully taken, false otherwise. If false is returned, then errno is set with a hint about why the the mutex couldn't be taken. </dd></dl>

</div>
</div>
<a id="abeb38b74fc71b8003c53e920822f7d1d" name="abeb38b74fc71b8003c53e920822f7d1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb38b74fc71b8003c53e920822f7d1d">&#9670;&#160;</a></span>port_mutex_give()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int port_mutex_give </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the mutex for the given port.</p>
<p>Frees the mutex for this port, allowing other tasks to continue.</p>
<p>WARNING: If a mutex was claimed by a task, this MUST be called immediately after the port is no longer needed by that task in order to prevent delays in other tasks.</p>
<p>This function uses the following values of errno when an error state is reached: ENXIO - The given value is not within the range of V5 ports (0-20).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number to free from 0-20 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae70eb480db1d80602e5b5f037d572d47" name="ae70eb480db1d80602e5b5f037d572d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70eb480db1d80602e5b5f037d572d47">&#9670;&#160;</a></span>port_mutex_give_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void port_mutex_give_all </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Executes <a class="el" href="#abeb38b74fc71b8003c53e920822f7d1d">port_mutex_give()</a> for all of the V5 Smart Ports. </p>

</div>
</div>
<a id="a67513439eb7264d1196f58dbaa03c847" name="a67513439eb7264d1196f58dbaa03c847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67513439eb7264d1196f58dbaa03c847">&#9670;&#160;</a></span>port_mutex_take()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int port_mutex_take </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Claims the mutex for the given port.</p>
<p>Reserves the mutex for this port. Any other tasks trying to access this port will block until the mutex is returned. If a higher-priortiy task attempts to claim this port, the task which has the port claimed will temporarily be raised to an equal priority until the mutex is given, reducing the impact of the delay. See FreeRTOS documentation for more details.</p>
<p>This MUST be called before any call to the v5 api to maintain thread saftey.</p>
<p>This function uses the following values of errno when an error state is reached: ENXIO - The given value is not within the range of V5 ports (0-20).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number to claim from 0-20</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the mutex was successfully taken, 0 if not, -1 if port is invalid. </dd></dl>

</div>
</div>
<a id="a00133d1eced9193949574829587a393d" name="a00133d1eced9193949574829587a393d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00133d1eced9193949574829587a393d">&#9670;&#160;</a></span>port_mutex_take_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void port_mutex_take_all </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Executes <a class="el" href="#a67513439eb7264d1196f58dbaa03c847">port_mutex_take()</a> for all of the V5 Smart Ports. </p>

</div>
</div>
<a id="a9b8bc94d616e0f915c2930698e64c4bc" name="a9b8bc94d616e0f915c2930698e64c4bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b8bc94d616e0f915c2930698e64c4bc">&#9670;&#160;</a></span>vdml_get_port_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool vdml_get_port_error </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the error bit for the port, indicating whether or not there has been an error on this port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number to check from 0-20</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the port's bit is set, false otherwise. </dd></dl>

</div>
</div>
<a id="ab164b06ea2d6c77fac6d1afc8bfa78f4" name="ab164b06ea2d6c77fac6d1afc8bfa78f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab164b06ea2d6c77fac6d1afc8bfa78f4">&#9670;&#160;</a></span>vdml_set_port_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vdml_set_port_error </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the port's bit to 1, indicating there has already been an error on this port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number to set from 0-20 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a041f91b4d998392918864e26df946f32" name="a041f91b4d998392918864e26df946f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041f91b4d998392918864e26df946f32">&#9670;&#160;</a></span>vdml_unset_port_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vdml_unset_port_error </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the port's bit to 0, effectively resetting it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The V5 port number to unset from 0-20 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a93dbe5adaa0d9331b7a02a713da023c1" name="a93dbe5adaa0d9331b7a02a713da023c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93dbe5adaa0d9331b7a02a713da023c1">&#9670;&#160;</a></span>port_errors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t port_errors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap to indicate if a port has had an error printed or not. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_8e77c52fc1692cf36ad4f4b2b1dc34b3.html">vdml</a></li><li class="navelem"><a class="el" href="vdml_8h.html">vdml.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
